<!DOCTYPE html>
<html>
  <head>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
    <title>Crear Libro</title>
  </head>
  <body>
    <div class="col-4"></div>
    <div class="container col-4 mt-4">
      <div class="col-4"></div>
      <h1 class="mb-2">Libro Formulario</h1>
      <div
        class="alert alert-success alert-dismissible fade show mt-2 mb-2"
        role="alert"
        th:if="${mensaje != null}"
        th:text="${mensaje}"
      >
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"
        ></button>
      </div>
      <form method="POST" th:action="@{/libros/crear}" th:object="${libro}">
        <div class="mb-3">
          <label for="name" class="form-label">TÃ­tulo</label>
          <input type="hidden" id="idlibro" th:field="*{idlibro}" />
          <input
            type="text"
            class="form-control is-invalid"
            id="titulo"
            th:field="*{titulo}"
            th:if="${#fields.hasErrors('titulo')}"
          />
          <input
            type="text"
            class="form-control"
            id="titulo"
            th:field="*{titulo}"
            th:if="${!#fields.hasErrors('titulo')}"
          />
          <span
            class="invalid-feedback"
            role="alert"
            th:if="${#fields.hasErrors('titulo')}"
          >
            <strong th:errors="*{titulo}"></strong>
          </span>
        </div>
        <div class="mb-3">
          <label for="precio" class="form-label">Precio</label>
          <input
            type="text"
            class="form-control is-invalid"
            id="precio"
            th:field="*{precio}"
            th:if="${#fields.hasErrors('precio')}"
          />
          <input
            type="text"
            class="form-control"
            id="precio"
            th:field="*{precio}"
            th:if="${!#fields.hasErrors('precio')}"
          />
          <span
            class="invalid-feedback"
            role="alert"
            th:if="${#fields.hasErrors('precio')}"
          >
            <strong th:errors="*{precio}"></strong>
          </span>
        </div>
        <div class="mb-3">
          <label for="cantejemplares" class="form-label">Cantidad</label>
          <input
            type="text"
            class="form-control is-invalid"
            id="cantejemplares"
            th:field="*{cantejemplares}"
            th:if="${#fields.hasErrors('cantejemplares')}"
          />
          <input
            type="text"
            class="form-control"
            id="cantejemplares"
            th:field="*{cantejemplares}"
            th:if="${!#fields.hasErrors('cantejemplares')}"
          />
          <span
            class="invalid-feedback"
            role="alert"
            th:if="${#fields.hasErrors('cantejemplares')}"
          >
            <strong th:errors="*{cantejemplares}"></strong>
          </span>
        </div>
        <div class="mb-3">
          <label for="origen" class="form-label">Origen</label>
          <input
            type="text"
            class="form-control is-invalid"
            id="origen"
            th:field="*{origen}"
            th:if="${#fields.hasErrors('origen')}"
          />
          <input
            type="text"
            class="form-control"
            id="origen"
            th:field="*{origen}"
            th:if="${!#fields.hasErrors('origen')}"
          />
          <span
            class="invalid-feedback"
            role="alert"
            th:if="${#fields.hasErrors('origen')}"
          >
            <strong th:errors="*{origen}"></strong>
          </span>
        </div>
        <div class="mb-3">
          <label for="tema" class="form-label">Tema</label>
          <select
            class="form-select is-invalid"
            aria-label="Default select example"
            id="tema"
            th:field="*{tema}"
            th:if="${#fields.hasErrors('tema')}"
          >
            <option selected value="-1">--Seleccione--</option>
            <option
              th:each="tema : ${temas}"
              th:value="${tema.idtema}"
              th:text="${tema.nombre}"
            ></option>
          </select>
          <span
            class="invalid-feedback"
            role="alert"
            th:if="${#fields.hasErrors('tema')}"
          >
            <strong th:errors="*{tema}"></strong>
          </span>

          <select
            class="form-select"
            aria-label="Default select example"
            id="tema"
            th:field="*{tema}"
            th:if="${!#fields.hasErrors('tema')}"
          >
            <option selected value="-1">--Seleccione--</option>
            <option
              th:each="tema : ${temas}"
              th:value="${tema.idtema}"
              th:text="${tema.nombre}"
            ></option>
          </select>
        </div>
        <div class="display-flex align-content-center">
          <button type="submit" class="btn btn-success">Guardar</button>
          <a class="btn btn-primary" th:href="@{/libros}">Regresar</a>
        </div>
      </form>
    </div>
    <div class="col-4"></div>
  </body>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
    crossorigin="anonymous"
  ></script>
</html>
